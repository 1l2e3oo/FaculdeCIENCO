(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"8aJz":function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("lhRt"),a=i("8Y7J");const o=["certificateInner"];function r(e,t){if(1&e){const e=a.Xb();a.Wb(0,"accredible-block",7),a.dc("updateProcessing",function(t){return a.Ac(e),a.hc().processingTracker(t)}),a.Vb()}if(2&e){const e=t.$implicit,i=a.hc();a.oc("block",e)("partialCredential",i.partialCredential)}}function s(e,t){1&e&&a.Rb(0,"div",8)}const c=function(e,t,i){return[e,t,i]};let l=(()=>{class e{constructor(e,t){this._hostElement=e,this._font=t,this.size="default",this.forPrint=!1,this.skipImageRendering=!1,this.centerLandscape=!0,this.centerPortrait=!0,this.ready=new a.o,this.processingTallies={image:0,text:0},this.readySent=!1,this.processingTracker=e=>{}}onWindowResize(){if(this._hostElement.nativeElement.classList.contains("print"))return;const e=this.certificateInner.nativeElement.offsetWidth,t=this.certificateInner.nativeElement.offsetHeight;if(!e||!t)return;let i,n,a,o=+this._hostElement.nativeElement.getAttribute("size");o||(this._hostElement.nativeElement.style.width="",this._hostElement.nativeElement.style.height="",this._hostElement.nativeElement.style.margin="",o=this._hostElement.nativeElement.parentElement.offsetWidth);let r=0,s=0;this._hostElement.nativeElement.classList.contains("square")?t>e?(a=o/t,i=e*a,n=o,this.centerPortrait&&(s=(o-i)/2)):(a=o/e,i=o,n=t*a,this.centerLandscape&&(r=(o-n)/2)):(a=o/e,i=o,n=t*a),this.certificateInner.nativeElement.style.transform="scale("+a+")",this._hostElement.nativeElement.style.width=i+"px",this._hostElement.nativeElement.style.height=n+"px",this._hostElement.nativeElement.style.margin=r+"px "+s+"px"}ngOnInit(){this.processingTallies.text=this.design.blocks.reduce((e,t)=>t.scale_to_fit?e+1:e,0),this._font.loadCertificateDesignFonts(this.design),this.ready.observers.length>0&&(this.processingTracker=this._onUpdateProcessing)}ngAfterViewInit(){this.onWindowResize(),this.design.background||(this._onUpdateProcessing({type:"image",increment:1}),setTimeout(()=>{this._onUpdateProcessing({type:"image",increment:-1})}))}loaded(){this.ready.emit()}imageLoadUpdate(e){if(this.ready.observers.length>0)switch(e.reason){case"start-loading":this._onUpdateProcessing({type:"image",increment:1});break;case"loading-succeeded":this._onUpdateProcessing({type:"image",increment:-1})}}_onUpdateProcessing(e){this.readySent||(this.skipImageRendering&&"text"!==e.type||(this.processingTallies[e.type]=this.processingTallies[e.type]+e.increment),0===this.processingTallies.image&&0===this.processingTallies.text&&(this.ready.emit(),this.readySent=!0))}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(a.l),a.Qb(n.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["accredible-certificate"]],viewQuery:function(e,t){if(1&e&&a.Rc(o,1),2&e){let e;a.wc(e=a.ec())&&(t.certificateInner=e.first)}},hostBindings:function(e,t){1&e&&a.dc("resize",function(){return t.onWindowResize()},!1,a.zc)},inputs:{design:"design",partialCredential:"partialCredential",size:"size",forPrint:"forPrint",skipImageRendering:"skipImageRendering",centerLandscape:"centerLandscape",centerPortrait:"centerPortrait",ariaLabel:"ariaLabel"},outputs:{ready:"ready"},decls:7,vars:15,consts:[[1,"certificate",3,"ngClass"],["aria-hidden","true",1,"certificate-inner"],["certificateInner",""],[1,"certificate-bg"],["alt","",3,"src","lazyLoad","onStateChange"],[3,"block","partialCredential","updateProcessing",4,"ngFor","ngForOf"],["class","certificate-watermark",4,"ngIf"],[3,"block","partialCredential","updateProcessing"],[1,"certificate-watermark"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"div",1,2),a.Wb(3,"div",3),a.Wb(4,"img",4),a.dc("onStateChange",function(e){return t.imageLoadUpdate(e)}),a.Vb(),a.Vb(),a.Kc(5,r,1,2,"accredible-block",5),a.Kc(6,s,1,0,"div",6),a.Vb(),a.Vb()),2&e&&(a.Ib("bg-bleed",t.design.background_bleeds&&t.forPrint)("show-bleed",t.forPrint),a.oc("ngClass",a.uc(11,c,t.design.size,t.size,t.design.orientation)),a.Fb("role",t.ariaLabel?"img":null)("aria-label",t.ariaLabel||null),a.Eb(4),a.oc("src",t.design.background,a.Dc)("lazyLoad",t.design.background),a.Eb(1),a.oc("ngForOf",t.design.blocks),a.Eb(1),a.oc("ngIf",!!t.partialCredential&&t.partialCredential.sample))},styles:["[_nghost-%COMP%]{display:block}.certificate[_ngcontent-%COMP%]{background-color:#eee;height:100%;position:relative;width:100%}.certificate[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{background-color:#fff;display:block;font-family:Source Sans Pro,sans-serif;overflow:hidden;pointer-events:none;position:absolute}.certificate[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%], .certificate[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]   .certificate-watermark[_ngcontent-%COMP%]{background-position:bottom;background-repeat:no-repeat;background-size:100% 100%;bottom:0;left:0;position:absolute;right:0;top:0}.certificate[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.certificate.default.a4.landscape[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.37690355mm;height:210mm;width:297mm}.certificate.default.a4.landscape.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.default.a4.portrait[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.26649746mm;height:297mm;width:210mm}.certificate.default.a4.portrait.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.default.us-letter.landscape[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.01395939in;height:8.5in;width:11in}.certificate.default.us-letter.landscape.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.default.us-letter.portrait[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.0107868in;height:11in;width:8.5in}.certificate.default.us-letter.portrait.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.small.a4.landscape[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.26916244px;height:150px;width:212.1px}.certificate.small.a4.landscape.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.small.a4.portrait[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.19035533px;height:212.1px;width:150px}.certificate.small.a4.portrait.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.small.us-letter.landscape[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.19035533px;height:115.9px;width:150px}.certificate.small.us-letter.landscape.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.small.us-letter.portrait[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{font-size:.14708122px;height:150px;width:115.9px}.certificate.small.us-letter.portrait.bg-bleed[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%]{bottom:-5mm;left:-5mm;right:-5mm;top:-5mm}.certificate.print[_ngcontent-%COMP%]{display:block}.certificate.print[_ngcontent-%COMP%]   .certificate-bg[_ngcontent-%COMP%], .certificate.print[_ngcontent-%COMP%]   .certificate-watermark[_ngcontent-%COMP%]{-ms-interpolation-mode:nearest-neighbor;image-rendering:-moz-crisp-edges;image-rendering:-o-crisp-edges}.certificate.show-bleed[_ngcontent-%COMP%]   .certificate-inner[_ngcontent-%COMP%]{overflow:visible}.certificate.with-shadow[_ngcontent-%COMP%]{box-shadow:0 2px 4px 0 rgba(0,0,0,.16)}  body[dir=ltr] accredible-certificate .certificate .certificate-inner{transform-origin:top left}  body[dir=rtl] accredible-certificate .certificate .certificate-inner{transform-origin:top right}"],changeDetection:0}),e})()},AuKf:function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o.a});var n=i("8Y7J");let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({}),e})();var o=i("SpZU")},"B+bF":function(e,t,i){"use strict";i.d(t,"a",function(){return b});var n=i("8Y7J"),a=i("EN+Z"),o=i("SVse"),r=i("8aJz"),s=i("SH+j");const c=function(e){return{courseName:e}};function l(e,t){if(1&e&&(n.Wb(0,"div",5),n.Rb(1,"accredible-certificate",6),n.Rb(2,"accredible-badge",7),n.Vb()),2&e){const e=n.hc(2).$implicit,t=n.hc();n.Fb("role",t.showLabel?"img":null)("aria-label",t.showLabel?e("aria_certificate_badge",n.sc(7,c,t.group.course_name)):null),n.Eb(1),n.oc("design",t.group.certificate_design)("partialCredential",t.partialCredential)("size",t.size),n.Eb(1),n.oc("design",t.group.badge_design)("partialCredential",t.partialCredential)}}function g(e,t){if(1&e&&(n.Ub(0),n.Kc(1,l,3,9,"div",4),n.Tb()),2&e){n.hc();const e=n.xc(3),t=n.hc();n.Eb(1),n.oc("ngIf",t.group.certificate_design&&t.group.badge_design)("ngIfElse",e)}}function d(e,t){if(1&e&&n.Rb(0,"accredible-certificate",9),2&e){const e=n.hc(2).$implicit,t=n.hc();n.oc("design",t.group.certificate_design)("partialCredential",t.partialCredential)("centerLandscape",t.centerLandscape)("centerPortrait",t.centerPortrait)("ariaLabel",t.showLabel?e("aria_certificate",n.sc(6,c,t.group.course_name)):null)("size",t.size)}}function f(e,t){if(1&e&&n.Kc(0,d,1,8,"accredible-certificate",8),2&e){n.hc();const e=n.xc(5),t=n.hc();n.oc("ngIf",t.group.certificate_design)("ngIfElse",e)}}function h(e,t){if(1&e&&n.Rb(0,"accredible-badge",11),2&e){const e=n.hc(2).$implicit,t=n.hc();n.oc("design",t.group.badge_design)("partialCredential",t.partialCredential)("ariaLabel",t.showLabel?e("aria_badge",n.sc(3,c,t.group.course_name)):null)}}function p(e,t){if(1&e&&n.Kc(0,h,1,5,"accredible-badge",10),2&e){const e=n.hc(2);n.oc("ngIf",e.group.badge_design)}}function u(e,t){if(1&e&&(n.Ub(0),n.Kc(1,g,2,2,"ng-container",1),n.Kc(2,f,1,2,"ng-template",null,2,n.Lc),n.Kc(4,p,1,1,"ng-template",null,3,n.Lc),n.Tb()),2&e){const e=n.hc();n.Eb(1),n.oc("ngIf",!!e.group)}}let b=(()=>{class e{constructor(){this.size="default",this.centerLandscape=!0,this.centerPortrait=!0,this.showLabel=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["accredible-credential-appearance"]],inputs:{group:"group",partialCredential:"partialCredential",size:"size",centerLandscape:"centerLandscape",centerPortrait:"centerPortrait",showLabel:"showLabel"},decls:1,vars:1,consts:[[4,"transloco","translocoRead"],[4,"ngIf"],["certificateTemplate",""],["badgeTemplate",""],["class","appearance",4,"ngIf","ngIfElse"],[1,"appearance"],["aria-hidden","true",1,"certificate","square",3,"design","partialCredential","size"],["aria-hidden","true","size","100%",1,"badge",3,"design","partialCredential"],["class","certificate square",3,"design","partialCredential","centerLandscape","centerPortrait","ariaLabel","size",4,"ngIf","ngIfElse"],[1,"certificate","square",3,"design","partialCredential","centerLandscape","centerPortrait","ariaLabel","size"],["class","badge","size","100%",3,"design","partialCredential","ariaLabel",4,"ngIf"],["size","100%",1,"badge",3,"design","partialCredential","ariaLabel"]],template:function(e,t){1&e&&n.Kc(0,u,6,1,"ng-container",0),2&e&&n.oc("translocoRead","credential-appearance")},directives:[a.e,o.o,r.a,s.a],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]     .certificate-inner{border:1px solid var(--theme-border-color)}.appearance[_ngcontent-%COMP%]{position:relative;width:90%}.appearance[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:48%;width:65%}  body[dir=ltr] accredible-credential-appearance .appearance .badge{right:-15%}  body[dir=rtl] accredible-credential-appearance .appearance .badge{left:-15%}"],changeDetection:0}),e})()},DW4l:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i("Tzbr"),a=i("hIdG"),o=i("SVse"),r=i("EN+Z"),s=i("8Y7J");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({providers:[],imports:[[o.c,r.f,n.a,a.a]]}),e})()},"SH+j":function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i("KzhJ"),a=i("hAlj"),o=i("lhRt"),r=i("f09m"),s=i("SVse"),c=i("8Y7J"),l=i("cUpR");const g=["svgContainer"];function d(e,t){if(1&e&&(c.Wb(0,"div"),c.Rb(1,"div",2,3),c.Vb()),2&e){const e=c.hc();c.Fb("role",e.ariaLabel?"img":null)("aria-label",e.ariaLabel||null),c.Eb(1),c.Hc("width",e.size)("height",e.size),c.oc("innerHTML",e.badgeSVG,c.Bc)}}function f(e,t){if(1&e&&c.Rb(0,"img",4),2&e){const e=c.hc();c.Hc("width",e.size),c.oc("src",e.badgeURL||e.design.rasterized_content_url,c.Dc)("alt",e.ariaLabel||"")}}let h=(()=>{class e{constructor(e,t,i,n,a){this._document=e,this._sanitizer=t,this._font=i,this._svgProcessor=n,this._attribute=a,this.size="100%",this.useBitmap=!1,this.ready=new c.o,this._imagesReady=!1,this._textReady=!1}ngOnInit(){this._document.fonts||(this.useBitmap=!0),this.useBitmap&&(this.partialCredential&&this.partialCredential.badge_image?this.badgeURL=this.partialCredential.badge_image:this.partialCredential&&this.partialCredential.encoded_id&&(this.badgeURL="https://pdf.ms.credential.net/badge/image?env="+("production"===n.a.type?"production":n.a.prefix.slice(0,-1))+"&credential="+this.partialCredential.encoded_id)),this._insertSVG()}ngAfterViewInit(){this.useBitmap||this._processText()}_insertSVG(){if(!this.useBitmap){let e=this.design.svg;if(this.ready.observers.length>0){const t=/(?:<image )(.*?)(xlink:href=")(.*?)(?=")/gi,i=[];let n;for(;n=t.exec(e);)i.push(n[3]);let a=i.length;if(a>0){const e=t=>{t.target.removeEventListener("load",e,!1),0==--a&&this._imagesAreReady()};i.forEach(t=>{const i=new Image;i.addEventListener("load",e,!1),i.src=t})}else this._imagesAreReady()}this.partialCredential&&(e=this._attribute.replaceAttributes(e,this.partialCredential)),e=this._svgProcessor.sanitize(e,this.partialCredential?this.partialCredential.name||(this.partialCredential.group?this.partialCredential.group.course_name:null):null),this.badgeSVG=this._sanitizer.bypassSecurityTrustHtml(e)}}_processText(){const e=this.svgContainer.nativeElement.querySelectorAll("foreignObject");if(e.length>0){let t=e.length;e.forEach(e=>{e.firstChild.textContent?this._font.whenFontLoaded(e.style.fontFamily,e.style.fontWeight,e.style.fontStyle||"normal",()=>{this._svgProcessor.shrinkTextBoxContentToFit(e),this._svgProcessor.verticalAlignTextBoxContent(e),t--,0===t&&this._textIsReady()}):(t--,0===t&&this._textIsReady())})}else this._textIsReady()}_imagesAreReady(){this._imagesReady=!0,this._onReady()}_textIsReady(){this._textReady=!0,this._onReady()}_onReady(){this.ready.observers.length>0&&this._imagesReady&&this._textReady&&this.ready.emit()}}return e.\u0275fac=function(t){return new(t||e)(c.Qb(s.e),c.Qb(l.b),c.Qb(o.a),c.Qb(r.a),c.Qb(a.a))},e.\u0275cmp=c.Kb({type:e,selectors:[["accredible-badge"]],viewQuery:function(e,t){if(1&e&&c.Rc(g,1),2&e){let e;c.wc(e=c.ec())&&(t.svgContainer=e.first)}},inputs:{design:"design",partialCredential:"partialCredential",size:"size",useBitmap:"useBitmap",ariaLabel:"ariaLabel"},outputs:{ready:"ready"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"src","alt","width",4,"ngIf"],["aria-hidden","true",1,"svg-container",3,"innerHTML"],["svgContainer",""],[3,"src","alt"]],template:function(e,t){1&e&&(c.Kc(0,d,3,7,"div",0),c.Kc(1,f,1,4,"img",1)),2&e&&(c.oc("ngIf",!t.useBitmap),c.Eb(1),c.oc("ngIf",t.useBitmap))},directives:[s.o],styles:[".svg-container[_ngcontent-%COMP%]    >svg{width:100%}"],changeDetection:0}),e})()},SpZU:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("SVse"),a=i("8Y7J");let o=(()=>{class e extends n.f{transform(e,t,i){return new Date(e).getTime()?super.transform(e,t,"",i):e}}return e.\u0275fac=function(t){return r(t||e)},e.\u0275pipe=a.Pb({name:"localeDate",type:e,pure:!0}),e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const r=a.Yb(o)},Tzbr:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("hAlj"),a=i("f09m"),o=i("SVse"),r=i("8Y7J");let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({providers:[],imports:[[o.c,n.b,a.b]]}),e})()},f09m:function(e,t,i){"use strict";i.d(t,"b",function(){return c}),i.d(t,"a",function(){return s});var n=i("lhRt"),a=i("SVse"),o=i("8Y7J"),r=i("cUpR");let s=(()=>{class e{constructor(e,t,i){this._document=e,this._sanitizer=t,this._font=i,this._eventHandlers=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onload","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","ontouchstart","ontouchmove","ontouchleave","ontouchend","ontouchcancel"]}static _xmlify(e){return e.replace(/<br\s*[\/]?>/gi,"<br/>")}static _trimQuoteMarks(e){return e.replace(/(^["'])|(["']$)/g,"")}sanitize(e,t){const i=this._document.createElement("div");i.innerHTML=e,i.querySelectorAll("text").forEach(e=>{var t;"path"===(null===(t=e.nextSibling)||void 0===t?void 0:t.nodeName.toLowerCase())&&e.nextSibling.remove()}),i.querySelectorAll("script").forEach(e=>{e.remove()}),this._eventHandlers.forEach(e=>{i.querySelectorAll("["+e+"]").forEach(t=>{t.removeAttribute(e)})}),i.querySelectorAll("div").forEach(e=>{e.setAttribute("aria-hidden","true")}),i.querySelectorAll("style").forEach(e=>{e.setAttribute("aria-hidden","true")}),i.querySelector("svg").setAttribute("focusable","false");let n=i.innerHTML;return t&&(n=n.replace(/^<svg(.*?)>/,"<svg$1><title>"+this._sanitizer.sanitize(o.K.HTML,t)+"</title>")),n}insertFonts(e){const t={},i=this._document.createElement("div");i.innerHTML=e,i.querySelectorAll("foreignObject").forEach(e=>{this._extractFont(e,t)}),i.querySelectorAll("text").forEach(e=>{this._extractFont(e.parentElement,t)});let n=[];return Object.keys(t).forEach(e=>{const i=Object.keys(t[e]),a=this._font.getCssImportString(e,i);a&&n.push(a)}),n=n.sort(function(e,t){return 0===e.indexOf("@import")&&0===t.indexOf("@import")?0:0===e.indexOf("@import")&&0===t.indexOf("@font-face")?-1:0===e.indexOf("@font-face")&&0===t.indexOf("@import")?1:0===e.indexOf("@font-face")&&0===t.indexOf("@font-face")?0:void 0}),i.querySelectorAll("style").forEach(e=>{e.remove()}),n.length&&i.querySelector("svg").prepend("<style>\n"+n.join("\n")+"</style>"),i.innerHTML}shrinkTextBoxContentToFit(e){const t=e.getAttribute("shrink-to-fit"),i=e.firstElementChild;if(i.style.fontSize="","width"===t||"height"===t){let n,a=0;"width"===t?(a=i.querySelectorAll("div").length||1,n=parseFloat(getComputedStyle(i).getPropertyValue("line-height"))*a):n=+e.getAttribute("height");let o=parseFloat(getComputedStyle(e).getPropertyValue("font-size"));for(;parseFloat(getComputedStyle(i).getPropertyValue("height"))>n;)o--,i.style.fontSize=o+"px"}}verticalAlignTextBoxContent(e){const t=e.getAttribute("vertical-align"),i=e.firstElementChild;if(i.style.paddingTop="","middle"===t||"bottom"===t){const n=parseFloat(getComputedStyle(e.querySelector("div")).getPropertyValue("height")),a=parseFloat(e.getAttribute("height"))-n;a>0&&(i.style.paddingTop=("middle"===t?a/2:a)+"px")}}_extractFont(t,i){const n=e._trimQuoteMarks(t.style.fontFamily);i[n]||(i[n]={});const a=this._font.getNearestWeight(n,t.style.fontWeight),o=a+("italic"===t.style.fontStyle&&this._font.hasItalicWeight(n,a)?"i":"");i[n][o]=!0}}return e.\u0275fac=function(t){return new(t||e)(o.ac(a.e),o.ac(r.b),o.ac(n.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({providers:[s]}),e})()},hAlj:function(e,t,i){"use strict";i.d(t,"b",function(){return g}),i.d(t,"a",function(){return l});var n=i("AuKf"),a=i("dLKY"),o=i("IzEk"),r=function(e){return e.DATE="date",e.DRAFT="draft",e.EMAIL="email",e.IMAGE="image",e.STRING="string",e.TEXT="text",e}({});const s=[{parent:"issuer",key:"name",type:"text"},{parent:"group",key:"course_name",type:"text"},{parent:"group",key:"course_description",type:"text"},{parent:"credential",key:"id",type:"text",help:"The Accredible ID of the Credential"},{parent:"credential",key:"license_id",type:"text",help:"The Unique ID your organization uses to reference the Credential"},{parent:"credential",key:"grade",type:"text"},{parent:"credential",key:"url",type:"text"},{parent:"credential",key:"uuid",type:"text"},{parent:"credential",key:"issued_on",type:"date"},{parent:"credential",key:"expired_on",type:"date"},{parent:"recipient",key:"id",type:"text",help:"The Unique ID your organization uses to reference the Recipient"},{parent:"recipient",key:"name",type:"text"},{parent:"recipient",key:"email",type:"email"}];var c=i("8Y7J");let l=(()=>{class e{constructor(e,t){this._language=e,this._localeDatePipe=t}replaceAttributes(e,t,i){return e.replace(/\[([0-9a-z_]+)\.([0-9a-z_]+)]/gi,(e,n,a)=>{let c="";if(t)if("credential"===n)c=t[a];else{if(!t[n])return"";c=t[n][a]}let l="text";if("custom"===n&&t.custom_type&&t.custom_type[a])l=t.custom_type[a];else{const e=s.findIndex(e=>e.parent===n&&e.key===a);e>-1&&(l=s[e].type)}return l===r.DATE&&this._language.languageCode$.pipe(Object(o.a)(1)).subscribe(e=>{c=this._localeDatePipe.transform(c,i||"longDate",e)}),c||""})}}return e.\u0275fac=function(t){return new(t||e)(c.ac(a.a),c.ac(n.a))},e.\u0275prov=c.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({providers:[l],imports:[[a.b,n.b]]}),e})()},hIdG:function(e,t,i){"use strict";i.d(t,"a",function(){return M});var n=i("hAlj"),a=i("SVse"),o=i("VLCt"),r=i("raGu"),s=i("8Y7J");function c(e,t){if(1&e&&(s.Ub(0),s.Mc(1),s.Tb()),2&e){const e=s.hc();s.Eb(1),s.Oc(" ",e.text,"\n")}}let l=(()=>{class e{constructor(e,t,i){this._document=e,this._hostElement=t,this._attribute=i,this.updateProcessing=new s.o}ngOnInit(){const e=this.block.model||this.block.custom_image_attribute;e&&(this.text=this._attribute.replaceAttributes(e,this.partialCredential,this.block.date_format))}ngAfterViewInit(){if(this.block.scale_to_fit){const e=this._hostElement.nativeElement.parentElement;e.style.visibility="hidden";const t=e.style.fontFamily.split(",")[0].replace(/^"(.*)"$/,"$1");if(this._isFontAvailable(t))this._applyScaling();else{let i=!1,n=0;const a=setInterval(()=>{n++,this._isFontAvailable(t)&&(this._applyScaling(),i=!0),(i||n>=9)&&(clearInterval(a),i||(e.style.visibility="visible",this.updateProcessing.emit({type:"text",increment:-1})))},200)}}}_applyScaling(){const e=this._hostElement.nativeElement.parentElement,t=e.offsetWidth,i=this._hostElement.nativeElement.textContent,n=this._document.createElement("canvas").getContext("2d"),a=e.style.fontFamily,o=e.style.fontWeight,r=getComputedStyle(e),s=parseFloat(r.fontSize);let c=s;for(n.font=o+" "+c+"px "+a;n.measureText(i).width>t;)c-=1,n.font=o+" "+c+"px "+a;c<s&&(e.style.fontSize=Math.floor(c)+"px"),e.style.visibility="visible",this.updateProcessing.emit({type:"text",increment:-1})}_isFontAvailable(e){if(["serif","sans-serif","cursive","monospace"].indexOf(e.toLowerCase())>-1)return this._document.fonts.check("1em "+e);let t=this._document.createElement("canvas");const i=t.getContext("2d"),n="abcdefghijklmnopqrstuvwxyz0123456789";i.font="72px monospace";const a=i.measureText(n).width;return i.font="72px "+e+", monospace",t=null,i.measureText(n).width!==a}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(a.e),s.Qb(s.l),s.Qb(n.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["accredible-block-text"]],inputs:{block:"block",partialCredential:"partialCredential"},outputs:{updateProcessing:"updateProcessing"},features:[s.Db([a.f])],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(e,t){1&e&&s.Kc(0,c,2,1,"ng-container",0),2&e&&s.oc("ngIf",!!t.text)},directives:[a.o],styles:["[_nghost-%COMP%]{word-wrap:break-word;white-space:pre-line}"],changeDetection:0}),e})();function g(e,t){if(1&e){const e=s.Xb();s.Wb(0,"img",2),s.dc("onStateChange",function(t){return s.Ac(e),s.hc().imageLoadUpdate(t)}),s.Vb()}if(2&e){const e=s.hc();s.oc("src",e.block.image_url,s.Dc)("lazyLoad",e.block.image_url)}}function d(e,t){if(1&e){const e=s.Xb();s.Wb(0,"img",2),s.dc("onStateChange",function(t){return s.Ac(e),s.hc().imageLoadUpdate(t)}),s.Vb()}if(2&e){const e=s.hc();s.oc("src",e.imgSrc,s.Dc)("lazyLoad",e.imgSrc)}}function f(e,t){if(1&e&&(s.Wb(0,"div",3),s.Wb(1,"div"),s.Mc(2),s.Vb(),s.Vb()),2&e){const e=s.hc();s.Eb(2),s.Nc(e.block.custom_image_attribute)}}let h=(()=>{class e{constructor(e){this._attribute=e,this.updateProcessing=new s.o}ngOnInit(){this.block.custom_image_attribute&&(this.imgSrc=this._attribute.replaceAttributes(this.block.custom_image_attribute,this.partialCredential))}imageLoadUpdate(e){switch(e.reason){case"start-loading":this.updateProcessing.emit({type:"image",increment:1});break;case"loading-succeeded":this.updateProcessing.emit({type:"image",increment:-1})}}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(n.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["accredible-block-image"]],inputs:{block:"block",partialCredential:"partialCredential"},outputs:{updateProcessing:"updateProcessing"},decls:3,vars:3,consts:[["class","block-image","alt","",3,"src","lazyLoad","onStateChange",4,"ngIf"],["class","block-image",4,"ngIf"],["alt","",1,"block-image",3,"src","lazyLoad","onStateChange"],[1,"block-image"]],template:function(e,t){1&e&&(s.Kc(0,g,1,2,"img",0),s.Kc(1,d,1,2,"img",0),s.Kc(2,f,3,1,"div",1)),2&e&&(s.oc("ngIf",t.block.image_url),s.Eb(1),s.oc("ngIf",t.partialCredential&&t.block.custom_image_attribute&&t.imgSrc),s.Eb(1),s.oc("ngIf",!t.partialCredential&&t.block.custom_image_attribute))},directives:[a.o,o.a],styles:[".block-image[_ngcontent-%COMP%]{height:100%;width:100%}div.block-image[_ngcontent-%COMP%]{background-color:#ddd}div.block-image[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}"],changeDetection:0}),e})();var p=i("ARm4");const u=["svgWrapper"];function b(e,t){if(1&e&&(s.Wb(0,"div",1),s.gc(),s.Wb(1,"svg",2),s.Rb(2,"rect",3),s.Wb(3,"text",4),s.Mc(4," \ue032 "),s.Vb(),s.Vb(),s.Vb()),2&e){const e=s.hc();s.Eb(2),s.Fb("fill",e.block.background_color),s.Eb(1),s.Fb("fill",e.block.foreground_color)}}function m(e,t){if(1&e&&(s.Wb(0,"div",1,5),s.Rb(2,"qrcode-svg",6),s.Vb()),2&e){const e=s.hc();s.Eb(2),s.oc("value",e.partialCredential.url)("errorCorrectionLevel","M")("margin",4)("color",e.block.foreground_color)("backgroundColor",e.block.background_color)}}let y=(()=>{class e{constructor(e){this._deviceDetectorService=e}ngAfterViewInit(){"IE"===this._deviceDetectorService.browser&&this.svgWrapper.nativeElement.querySelector("svg").setAttribute("focusable","false")}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(p.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["accredible-qrcode"]],viewQuery:function(e,t){if(1&e&&s.Rc(u,1),2&e){let e;s.wc(e=s.ec())&&(t.svgWrapper=e.first)}},inputs:{block:"block",partialCredential:"partialCredential"},decls:2,vars:2,consts:[["class","block-qrcode",4,"ngIf"],[1,"block-qrcode"],["viewBox","0 0 36 36","focusable","false",2,"width","100%"],["width","100%","height","100%"],["x","0","y","37","font-family","acc-icon-font","font-size","36px"],["svgWrapper",""],[3,"value","errorCorrectionLevel","margin","color","backgroundColor"]],template:function(e,t){1&e&&(s.Kc(0,b,5,2,"div",0),s.Kc(1,m,3,5,"div",0)),2&e&&(s.oc("ngIf",!t.partialCredential),s.Eb(1),s.oc("ngIf",!!t.partialCredential))},directives:[a.o,r.a],styles:[".block-qrcode[_ngcontent-%COMP%]{height:100%;width:100%}"],changeDetection:0}),e})();var _=i("lhRt");let k=(()=>{class e{constructor(e){this._font=e}transform(e){const t=this._font.getFonts({allOrganizations:!0});return t[e]?t[e].family:e}}return e.\u0275fac=function(t){return new(t||e)(s.Qb(_.a))},e.\u0275pipe=s.Pb({name:"toFontFamily",type:e,pure:!0}),e})(),w=(()=>{class e{transform(e){return e&&-1!==e.indexOf("px")?e.replace("px","em"):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"convertFontSizeToEm",type:e,pure:!0}),e})();function C(e,t){if(1&e){const e=s.Xb();s.Wb(0,"accredible-block-text",4),s.dc("updateProcessing",function(t){return s.Ac(e),s.hc().onUpdateProcessing(t)}),s.Vb()}if(2&e){const e=s.hc();s.oc("block",e.block)("partialCredential",e.partialCredential)}}function v(e,t){if(1&e){const e=s.Xb();s.Wb(0,"accredible-block-image",4),s.dc("updateProcessing",function(t){return s.Ac(e),s.hc().onUpdateProcessing(t)}),s.Vb()}if(2&e){const e=s.hc();s.oc("block",e.block)("partialCredential",e.partialCredential)}}function P(e,t){if(1&e&&s.Rb(0,"accredible-qrcode",5),2&e){const e=s.hc();s.oc("block",e.block)("partialCredential",e.partialCredential)}}function x(e,t){if(1&e&&(s.Wb(0,"div",6),s.Rb(1,"div",7),s.Vb()),2&e){const e=s.hc();s.Eb(1),s.Hc("border-width","0")("border-color",e.block.color)("border-top-width","horizontal"===e.block.orientation?e.block.line_width:"")("border-left-width","vertical"===e.block.orientation?e.block.line_width:"")("border-style",e.block.line_style),s.oc("ngClass",e.block.orientation)}}let O=(()=>{class e{constructor(){this.updateProcessing=new s.o}onUpdateProcessing(e){this.updateProcessing.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["accredible-block"]],inputs:{block:"block",partialCredential:"partialCredential"},outputs:{updateProcessing:"updateProcessing"},decls:7,vars:42,consts:[[1,"certificate-block"],[3,"block","partialCredential","updateProcessing",4,"ngIf"],[3,"block","partialCredential",4,"ngIf"],["class","block-line",4,"ngIf"],[3,"block","partialCredential","updateProcessing"],[3,"block","partialCredential"],[1,"block-line"],[3,"ngClass"]],template:function(e,t){1&e&&(s.Wb(0,"div",0),s.ic(1,"toFontFamily"),s.ic(2,"convertFontSizeToEm"),s.Kc(3,C,1,2,"accredible-block-text",1),s.Kc(4,v,1,2,"accredible-block-image",1),s.Kc(5,P,1,2,"accredible-qrcode",2),s.Kc(6,x,2,11,"div",3),s.Vb()),2&e&&(s.Hc("top",t.block.top)("left",t.block.center?"0":t.block.left)("right",!!t.block.center&&"0")("margin-left",t.block.center?"auto":"0")("margin-right",t.block.center?"auto":"0")("width",t.block.image_width)("height",t.block.image_height)("font-family",s.jc(1,38,t.block.font))("font-weight",t.block.font_weight)("font-size",s.jc(2,40,t.block.font_size))("text-align",t.block.align)("color",t.block.color)("z-index",t.block.z_index),s.Ib("bold",t.block.bold)("underline",t.block.underline)("italic",t.block.italic)("line",t.block.line_width),s.Eb(3),s.oc("ngIf",t.block.model),s.Eb(1),s.oc("ngIf",t.block.image_url||t.block.custom_image_attribute),s.Eb(1),s.oc("ngIf",t.block.qr_code),s.Eb(1),s.oc("ngIf",t.block.line_width))},directives:[a.o,l,h,y,a.m],pipes:[k,w],styles:[".certificate-block[_ngcontent-%COMP%]{color:#333;font-size:14em;line-height:1.42;min-height:5%;min-width:5%;position:absolute;text-align:center}.certificate-block.line[_ngcontent-%COMP%]{min-height:3%;min-width:3%}.certificate-block.bold[_ngcontent-%COMP%]{font-weight:700}.certificate-block.underline[_ngcontent-%COMP%]{text-decoration:underline}.certificate-block.italic[_ngcontent-%COMP%]{font-style:italic}.block-line[_ngcontent-%COMP%]{height:100%;position:relative}.block-line[_ngcontent-%COMP%] > .horizontal[_ngcontent-%COMP%]{height:1px;position:relative;top:50%;transform:translateY(-50%)}.block-line[_ngcontent-%COMP%] > .vertical[_ngcontent-%COMP%]{height:100%;margin:0 auto;width:1px}"],changeDetection:0}),e})();var E=i("8aJz");let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({providers:[],imports:[[a.c,n.b,o.b,r.b]]}),e})();s.Ec(E.a,[a.m,o.a,a.n,O,a.o],[])},lhRt:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i("SVse"),a=i("LvDl");const o={"Alegreya SC":{type:"google",weights:[400,"400i",500,"500i",700,"700i"],fallback:"serif"},Aleo:{type:"google",weights:[300,"300i",400,"400i",700,"700i"],fallback:"serif"},Allura:{type:"google",weights:[400],fallback:"cursive"},Antonio:{type:"custom",weights:[300,400,700],fallback:"sans-serif"},Arial:{type:"system",weights:[400,"400i",700,"700i"],fallback:'"Helvetica Neue", Helvetica, sans-serif'},Asap:{type:"google",weights:[400,"400i",500,"500i",600,"600i",700,"700i"],fallback:"sans-serif"},Barlow:{type:"google",weights:[200,"200i",300,"300i",400,"400i",700,"700i"],fallback:"sans-serif"},"Bebas Neue":{type:"google",weights:[400],fallback:"sans-serif"},"Bilbo Swash Caps":{type:"google",weights:[400],fallback:"cursive"},"Brandon Grotesque":{type:"custom",weights:[400,600,700],fallback:"sans-serif"},Cinzel:{type:"google",weights:[400,700],fallback:"serif"},"Centra No.1":{type:"custom",weights:[100,400,500],fallback:"sans-serif",organization:13203},Charm:{type:"google",weights:[400,700],fallback:"cursive"},"Cormorant Garamond":{type:"google",weights:[400,"400i",600,"600i",700,"700i"],fallback:"serif"},"Cormorant SC":{type:"google",weights:[400,"400i",600,"600i",700,"700i"],fallback:"serif"},"Crimson Text":{type:"google",weights:[400,"400i",600,"600i",700,"700i"],fallback:"serif"},"Dancing Script":{type:"google",weights:[400,700],fallback:"cursive"},"DM Serif Display":{type:"google",weights:[400,"400i"],fallback:"serif"},Domine:{type:"google",weights:[400,700],fallback:"serif"},"EB Garamond":{type:"google",weights:[400,"400i",500,"500i",600,"600i",700,"700i"],fallback:"serif"},Felipa:{type:"google",weights:[400],fallback:"cursive"},Georgia:{type:"system",weights:[400,"400i",700,"700i"],fallback:'"Times New Roman", Times, serif'},Graphik:{type:"custom",weights:[400],fallback:"sans-serif",organization:13203},"Great Vibes":{type:"google",weights:[400],fallback:"cursive"},"IBM Plex Serif":{type:"google",weights:[300,"300i",400,"400i",600,"600i",700,"700i"],fallback:"serif"},"IM Fell Great Primer":{type:"google",weights:[400,"400i"],fallback:"serif"},"Indie Flower":{type:"google",weights:[400,700],fallback:"cursive"},Inter:{type:"google",weights:[200,"200i",300,"300i",400,"400i",700,"700i"],fallback:"sans-serif"},"Josefin Sans":{type:"google",weights:[400,"400i",600,"600i"],fallback:"sans-serif"},Lato:{type:"google",weights:[400,"400i",700,"700i"],fallback:"sans-serif"},"Libre Baskerville":{type:"google",weights:[400,"400i",700],fallback:"serif"},"Libre Caslon Text":{type:"google",weights:[400,"400i",700],fallback:"serif"},Lora:{type:"google",weights:[400,"400i",700,"700i"],fallback:"serif"},Monospace:{type:"system",weights:[400,"400i",700,"700i"],fallback:"monospace"},Montserrat:{type:"google",weights:[400,"400i",700,"700i"],fallback:"sans-serif"},"Noto Sans":{type:"google",weights:[400,"400i",700,"700i"],fallback:"sans-serif"},"Noto Sans JP":{type:"google",weights:[100,300,400,500,700,900],fallback:"sans-serif"},"Noto Sans SC":{type:"google",weights:[100,300,400,500,700,900],fallback:"sans-serif"},Nunito:{type:"google",weights:[200,"200i",300,"300i",400,"400i",700,"700i"],fallback:"sans-serif"},"Open Sans":{type:"google",weights:[300,"300i",400,"400i",700],fallback:"sans-serif"},Oswald:{type:"google",weights:[400],fallback:"sans-serif"},Overpass:{type:"google",weights:[300,"300i",400,"400i",600,"600i",700,"700i"],fallback:"sans-serif"},"Pinyon Script":{type:"google",weights:[400,700],fallback:"cursive"},"Plain Black Wide":{type:"custom",weights:[400],fallback:"cursive"},Playball:{type:"google",weights:[400],fallback:"cursive"},"Playfair Display":{type:"google",weights:[400,"400i",700,"700i"],fallback:"serif"},"Playfair Display SC":{type:"google",weights:[400,"400i",700,"700i"],fallback:"serif"},Poppins:{type:"google",weights:[400,"400i",700,"700i"],fallback:"sans-serif"},"Qualtrics Grotesque":{type:"custom",weights:[200,300,400,700],fallback:"sans-serif"},Raleway:{type:"google",weights:[400,"400i",700,"700i"],fallback:"sans-serif"},Roboto:{type:"google",weights:[300,"300i",400,"400i",700,"700i"],fallback:"sans-serif"},"Roboto Condensed":{type:"google",weights:[300,"300i",400,"400i",700,"700i"],fallback:"sans-serif"},Sacramento:{type:"google",weights:[400],fallback:"cursive"},"sans-serif":{type:"system",weights:[400,"400i",700,"700i"],fallback:"sans-serif"},"Source Sans Pro":{type:"google",weights:[300,"300i",400,"400i",700,"700i"],fallback:"sans-serif"},Tangerine:{type:"google",weights:[400,700],fallback:"cursive"},"Times New Roman":{type:"system",weights:[400,"400i",700,"700i"],fallback:"Times, Baskerville, Georgia, serif"},"Titillium Web":{type:"google",weights:[200,"200i",300,"300i",400,"400i",700,"700i"],fallback:"sans-serif"},UnifrakturMaguntia:{type:"google",weights:[400],fallback:"cursive"},"Varela Round":{type:"google",weights:[400],fallback:"sans-serif"},Verdana:{type:"system",weights:[400,"400i",700,"700i"],fallback:"Geneva, sans-serif"}};var r=i("8Y7J");let s=(()=>{class e{constructor(e){this._document=e,this._fonts=o,this._loadedFonts={},this._defaultFont="Source Sans Pro",this._weights={100:"Thin",200:"Extra Light",300:"Light",400:"Normal",500:"Medium",600:"Semi Bold",700:"Bold",800:"Extra Bold",900:"Black"},this._checklist=[],this._checkCount=0,this._checkTimeout=null,this._host=window.location.host,this._updateFonts(),Object.keys(this._fonts).forEach(e=>{const t=this._fonts[e];"system"===t.type&&t.weights.forEach(t=>{this._loadedFonts[e+t+("number"==typeof t?"normal":"talic")]=!0})})}static _unquote(e){return e.replace(/"/g,"")}getStatus(e){return this._fonts[e]||{}}getFonts(e){e=e||{};const t=a.cloneDeep(this._fonts);return e.type&&Object.keys(t).forEach(i=>{const n=t[i];n.type&&n.type!==e.type&&delete t[i]}),e.include&&(t[e.include]=a.cloneDeep(this._fonts[e.include])),t}getCssImportString(e,t){const i=this._fonts[e];if(i){if("google"===i.type)return"@import url('https://fonts.googleapis.com/css?family="+encodeURIComponent(e)+":"+t.join(",")+"');";if("custom"===i.type){let i="";for(let n=t.length,a=0;a<n;a++){const o=t[a];i+=`@font-face {\nfont-family: "${e}";\nfont-weight: ${o};\nsrc: url('//${this._host}/assets/fonts/${e}/${e} - ${o}.eot');\nsrc: url('//${this._host}/assets/fonts/${e}/${e} - ${o}.eot?#iefix') format('embedded-opentype'),\n     url('//${this._host}/assets/fonts/${e}/${e} - ${o}.woff') format('woff'),\n     url('//${this._host}/assets/fonts/${e}/${e} - ${o}.svg#svgFontfontName') format('svg'),\n     url('//${this._host}/assets/fonts/${e}/${e} - ${o}.ttf')  format('truetype');\n}`,i+=a<n-1?"\n":""}return i}}}getWeights(){return this._weights}getNearestWeight(e,t){this._fonts[e]||(e=this._defaultFont);const i=this._fonts[e].weights;let n=900,a=400;return Object.keys(i).forEach(e=>{const o=i[e];Math.abs(o-+t)<n&&(n=Math.abs(o-+t),a=o)}),a}hasItalicWeight(e,t){return this._fonts[e].weights.indexOf(t+"i")>-1}loadFont(e){let t;if(e=e.trim(),this._fonts[e]&&"google"===this._fonts[e].type&&!this._fonts[e].loaded){t=this._fonts[e];const i=this._document.querySelector("head"),n=this._document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","https://fonts.googleapis.com/css?family="+e.replace(/\s/g,"+")+":"+t.weights.join(",")+"&display=block"),i.append(n),t.loaded=!0}if(this._fonts[e]&&"custom"===this._fonts[e].type&&!this._fonts[e].loaded){t=this._fonts[e];const i=this._document.querySelector("head"),n=this._document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=this.getCssImportString(e,t.weights),i.append(n),t.loaded=!0}this._fonts[e]&&"system"===this._fonts[e].type&&!this._fonts[e].loaded&&(t=this._fonts[e],t.loaded=!0)}loadCertificateDesignFonts(e){if(e&&e.blocks)for(let t=e.blocks.length,i=0;i<t;i++)e.blocks[i].font&&this.loadFont(e.blocks[i].font);this.loadFont(this._defaultFont)}whenFontLoaded(t,i,n,a){if(t=e._unquote(t),i=this._weightAsNumber(i),this._loadedFonts[t+i+n])a();else{"italic"!==n||this.hasItalicWeight(t,i)||(n="normal");let e=!1;this._checklist.forEach(o=>{o.family===t&&o.weight===i&&o.style===n&&(e=!0,o.actions.push(a))}),e||this._checklist.push({family:t,weight:i,style:n,actions:[a]}),this._checkCount=20,this._checkTimeout&&clearTimeout(this._checkTimeout),this._checkFontsUntilLoaded()}}_updateFonts(){Object.keys(this._fonts).forEach(e=>{const t=this._fonts[e];t.name=e,t.family="'"+e+"'"+(t.fallback?", "+t.fallback:""),"google"===t.type&&(t.googleFamily=e.replace(/\s/g,"+")+":"+t.weights.join(",")+":latin,latin-ext")})}_weightAsNumber(e){if("number"==typeof(e=+e))return e;{let t=400;return Object.keys(this._weights).forEach(i=>{this._weights[i].toLowerCase()===e&&(t=+i)}),t}}_checkFontsLoaded(){const t=[];this._checklist.forEach(i=>{let n=!1;const a=document.fonts.values();let o;for(;o=a.next().value;){const t=+i.weight;if(e._unquote(o.family)===i.family&&(+o.weight===t||!isNaN(t)&&o.weight===this._weights[t].toLowerCase())&&o.style===i.style&&"loaded"===o.status){n=!0;break}}n?(this._loadedFonts[i.family+i.weight+i.style]=!0,i.actions.forEach(e=>{e()})):t.push(i)}),0===t.length?this._checkCount=0:this._checkCount--,this._checklist=t}_checkFontsUntilLoaded(){this._checkFontsLoaded(),this._checkCount>0?this._checkTimeout=setTimeout(this._checkFontsUntilLoaded.bind(this),100):this._checklist.length>0&&console.warn("Failed to load fonts:",this._checklist.map(e=>e.family+":"+e.weight+":"+e.style))}}return e.\u0275fac=function(t){return new(t||e)(r.ac(n.e))},e.\u0275prov=r.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);